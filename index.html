<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitreum Hub</title>
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1e1e28"/>
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Vitreum Hub">
    <meta name="description" content="Unifica el acceso a los servicios digitales de la Universidad de Cuenca.">

    <!-- Manifest Link -->
    <link rel="manifest" href="manifest.json">

    <!-- Icon Links -->
    <link rel="apple-touch-icon" href="/img/icons/icon-192x192.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="style.css">
    <!-- Cambiado a Poppins para un look más moderno -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Mono:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body>
<!-- MODAL DE ERROR DE LOGIN -->
<div id="login-error-modal" class="modal-overlay">
    <div class="modal-content">
        <h3>Acceso Restringido</h3>
        <p id="login-error-modal-message">Debes usar una cuenta de correo institucional (@ucuenca.edu.ec) para poder acceder.</p>
        <button id="login-error-modal-close" class="modal-btn primary" style="width:100%;">Entendido</button>
    </div>
</div>

<!-- MODAL DE REDIRECCIÓN A ENOVA -->
<div id="enova-redirect-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-icon-wrapper">
            <i data-lucide="external-link"></i>
        </div>
        <h3>Redirección Segura</h3>
        <p>Estás a punto de ser dirigido al portal oficial de Enova (Moodle) para iniciar sesión. Vitreum Hub no gestiona tus credenciales.</p>
        <div class="modal-actions">
            <button id="enova-redirect-cancel" class="modal-btn secondary">Cancelar</button>
            <button id="enova-redirect-confirm" class="modal-btn primary">Continuar</button>
        </div>
    </div>
</div>

<!-- MODAL DE ACTUALIZACIÓN DE DATOS -->
<div id="data-update-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-icon-wrapper">
            <i data-lucide="cloud-cog"></i>
        </div>
        <h3>Actualización Disponible</h3>
        <p>Existe una actualización importante de datos para mejorar tu experiencia. El proceso tomará menos de 1 minuto.</p>
        <p>¿Deseas actualizar ahora?</p>
        <div class="modal-actions">
            <button id="update-data-skip" class="modal-btn secondary">Omitir actualización</button>
            <button id="update-data-confirm" class="modal-btn primary">Actualizar</button>
        </div>
    </div>
</div>

<!-- SCHEDULE ASSISTANT SCREEN -->
<div id="schedule-assistant-screen" class="modal-overlay">
    <div class="schedule-assistant-window widget">
        <div class="assistant-header">
            <h3>Asistente de Horario</h3>
            <button id="close-assistant-btn" class="close-btn"><i data-lucide="x"></i></button>
        </div>
        <p>Configura tu horario de clases de Lunes a Viernes.</p>
        <div class="schedule-days-nav">
            <button class="day-tab active" data-day="lunes">L</button>
            <button class="day-tab" data-day="martes">M</button>
            <button class="day-tab" data-day="miercoles">X</button>
            <button class="day-tab" data-day="jueves">J</button>
            <button class="day-tab" data-day="viernes">V</button>
        </div>
        <div class="schedule-day-content">
            <h4 id="assistant-day-title">Lunes</h4>
            <form id="add-subject-form">
                <input type="text" id="subject-name" placeholder="Nombre de la materia" required>
                <input type="text" id="subject-teacher" placeholder="Nombre del docente (opcional)">
                <div class="time-inputs">
                    <label for="subject-start-time">Inicio:</label>
                    <input type="time" id="subject-start-time" required>
                    <label for="subject-end-time">Fin:</label>
                    <input type="time" id="subject-end-time" required>
                </div>
                <button type="submit" class="add-btn"><i data-lucide="plus"></i> Añadir Materia</button>
            </form>
            <div id="current-day-subjects-list">
                <!-- Materias añadidas para el día actual -->
            </div>
        </div>
        <div class="assistant-actions">
            <button id="save-schedule-btn" class="onboarding-btn primary">Guardar y Salir</button>
        </div>
    </div>
</div>


<!-- SPLASH SCREEN -->
<div id="splash-screen">
    <div class="splash-video-container">
        <video id="splash-video-1" class="splash-video" preload="auto" muted playsinline>
            <source src="./img/video1.mp4" type="video/mp4">
        </video>
        <video id="splash-video-2" class="splash-video" preload="auto" muted playsinline>
            <source src="./img/video2.mp4" type="video/mp4">
        </video>
    </div>
    <div class="focus-wave"></div>
    <p class="loading-text"></p>
</div>

<!-- ONBOARDING SCREEN -->
<div id="onboarding-screen">
    <div class="onboarding-window">
         <div class="window-header" style="justify-content: space-between;">
            <div id="onboarding-title" class="window-title-text" style="position: static; transform: none;">Bienvenida</div>
        </div>
        <div class="onboarding-content-area">
            <!-- Card 1: Welcome -->
            <div id="welcome-card" class="onboarding-card active">
                <h3>Bienvenido a Vitreum Hub</h3>
                <div class="onboarding-card-body">
                    <div class="onboarding-text-content">
                        <p>Nuestro objetivo es simplificar y unificar el acceso a los servicios digitales de la Universidad de Cuenca para todos los estudiantes.</p>
                        <div class="onboarding-actions">
                            <button id="next-to-privacy-btn" class="onboarding-btn primary">Siguiente</button>
                        </div>
                    </div>
                    <div class="onboarding-image-container" style="background-image: url('/img/inicio2.gif');"></div>
                </div>
            </div>
            <!-- Card 2: Privacy (New) -->
            <div id="privacy-card" class="onboarding-card">
                <h3>Tu Privacidad es Primero</h3>
                <div class="onboarding-card-body">
                    <div class="onboarding-text-content">
                        <p class="disclaimer-text">
                           Esta aplicación valora tu privacidad. <strong>No se recopilan tus datos ni salen de tu dispositivo.</strong> Toda la configuración y la información personal se almacenan localmente, solo de tu lado.
                        </p>
                        <div class="onboarding-actions">
                            <button id="back-to-welcome-btn" class="onboarding-btn secondary">Atrás</button>
                            <button id="next-to-agreement-btn" class="onboarding-btn primary">Comprendido, continuar</button>
                        </div>
                    </div>
                    <div class="onboarding-image-container" style="background-image: url('https://placehold.co/400x300/5b21b6/fff?text=Privacidad');"></div>
                </div>
            </div>
            <!-- Card 3: Agreement -->
            <div id="agreement-card" class="onboarding-card">
                <h3>Acuerdo de Usuario</h3>
                <div class="onboarding-card-body">
                    <div class="onboarding-text-content">
                        <p class="disclaimer-text">
                            Esta aplicación es un proyecto independiente y <strong>no es una plataforma oficial</strong> de la Universidad de Cuenca. Las marcas y logos utilizados son propiedad de la universidad. Al continuar, aceptas usar esta herramienta bajo tu propia responsabilidad.
                        </p>
                        <div class="onboarding-actions">
                            <button id="back-to-privacy-btn" class="onboarding-btn secondary">Atrás</button>
                            <button id="accept-btn" class="onboarding-btn primary">Aceptar y Continuar</button>
                        </div>
                    </div>
                    <div class="onboarding-image-container" style="background-image: url('/img/terminos.gif');"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- LOGIN SCREEN -->
<div id="login-screen">
    <div class="login-art-container">
        <div class="login-art-shape shape1"></div>
        <div class="login-art-shape shape2"></div>
    </div>
    <div class="login-container widget">
        <h1 class="login-logo">VITREUM</h1>
        <h2>Acceso Estudiantil</h2>
        <p>Usa tu cuenta institucional para ingresar al ecosistema.</p>
        <button id="google-login-btn" class="google-login-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.19,4.73C14.03,4.73 15.6,5.36 16.81,6.45L18.87,4.59C17.01,3.01 14.7,2 12.19,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.19,22C17.6,22 21.54,18.33 21.54,12.29C21.54,11.77 21.48,11.44 21.35,11.1Z"/></svg>
            <span>Seleccionar cuenta de Google</span>
        </button>
    </div>
</div>

<!-- RESUME SESSION SCREEN -->
<div id="resume-screen">
    <div class="login-art-container">
        <div class="login-art-shape shape1"></div>
        <div class="login-art-shape shape2"></div>
    </div>
    <div class="resume-container widget">
        <img id="resume-profile-pic" src="https://placehold.co/120x120/1e1e28/f0f0f0?text=?" alt="Foto de perfil" class="resume-profile-pic">
        <h2 id="resume-display-name">Cargando...</h2>
        <p>¡Hola de nuevo!</p>
        <div class="resume-actions">
            <button id="resume-btn" class="onboarding-btn primary">Reanudar Sesión</button>
            <button id="resume-logout-btn" class="onboarding-btn secondary">Cerrar Sesión</button>
        </div>
    </div>
</div>


<!-- SETUP SCREEN -->
<div id="setup-screen">
    <div class="setup-container widget">
        <div class="setup-progress">
            <div class="progress-step active" data-step="1"><div class="step-icon"><i data-lucide="image"></i></div><div class="step-label">Foto</div></div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="2"><div class="step-icon"><i data-lucide="user"></i></div><div class="step-label">Nombre</div></div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="3"><div class="step-icon"><i data-lucide="graduation-cap"></i></div><div class="step-label">Carrera</div></div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="4"><div class="step-icon"><i data-lucide="book-copy"></i></div><div class="step-label">Ciclo</div></div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="5"><div class="step-icon"><i data-lucide="users"></i></div><div class="step-label">Grupo</div></div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="6"><div class="step-icon"><i data-lucide="sun-moon"></i></div><div class="step-label">Modalidad</div></div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="7"><div class="step-icon"><i data-lucide="sparkles"></i></div><div class="step-label">Finalizar</div></div>
        </div>

        <div class="setup-steps-container">
            <!-- Step 1: Profile Picture -->
            <div class="setup-step active" id="setup-step-1">
                <h3>Elige tu Foto de Perfil</h3><p>Puedes cambiarla cuando quieras.</p>
                <label for="profile-pic-input" class="profile-pic-label">
                    <img id="setup-profile-pic" src="https://placehold.co/120x120/1e1e28/f0f0f0?text=?" alt="Foto de perfil">
                    <div class="pic-overlay"><i data-lucide="camera"></i></div>
                </label>
                <input type="file" id="profile-pic-input" accept="image/*">
                <div class="step-navigation"><button class="onboarding-btn primary" data-action="next">Siguiente</button></div>
            </div>

            <!-- Step 2: Name -->
            <div class="setup-step" id="setup-step-2">
                <h3>¿Cómo te llamas?</h3><p>Esta información se mostrará en tu perfil.</p>
                <input type="text" id="setup-first-name" class="setup-input" placeholder="Nombres" required>
                <input type="text" id="setup-last-name" class="setup-input" placeholder="Apellidos" required>
                <input type="text" id="setup-nickname" class="setup-input" placeholder="Apodo (opcional)">
                <div class="step-navigation">
                    <button class="onboarding-btn secondary" data-action="back">Atrás</button>
                    <button class="onboarding-btn primary" data-action="next">Siguiente</button>
                </div>
            </div>

            <!-- Step 3: Major/Career -->
            <div class="setup-step" id="setup-step-3">
                <h3>¿Qué carrera estudias?</h3><p>Esto nos ayudará a personalizar tu experiencia.</p>
                <div class="option-selector-group">
                    <input type="radio" id="major-periodismo" name="major" value="periodismo"><label for="major-periodismo">Periodismo</label>
                    <input type="radio" id="major-ebasica" name="major" value="educacion-basica" checked><label for="major-ebasica">E. Básica</label>
                    <input type="radio" id="major-einicial" name="major" value="educacion-inicial"><label for="major-einicial">E. Inicial</label>
                    <input type="radio" id="major-filosofia" name="major" value="filosofia"><label for="major-filosofia">Filosofía</label>
                </div>
                <div class="step-navigation">
                    <button class="onboarding-btn secondary" data-action="back">Atrás</button>
                    <button class="onboarding-btn primary" data-action="next">Siguiente</button>
                </div>
            </div>

            <!-- Step 4: Cycle -->
            <div class="setup-step" id="setup-step-4">
                <h3>¿En qué ciclo estás?</h3>
                <p>Selecciona tu ciclo académico actual.</p>
                 <div class="option-selector-group">
                    <input type="radio" id="cycle-1" name="cycle" value="1" checked><label for="cycle-1">Ciclo 1</label>
                    <input type="radio" id="cycle-2" name="cycle" value="2"><label for="cycle-2">Ciclo 2</label>
                    <input type="radio" id="cycle-3" name="cycle" value="3"><label for="cycle-3">Ciclo 3</label>
                    <input type="radio" id="cycle-4" name="cycle" value="4"><label for="cycle-4">Ciclo 4</label>
                    <input type="radio" id="cycle-5" name="cycle" value="5"><label for="cycle-5">Ciclo 5</label>
                    <input type="radio" id="cycle-6" name="cycle" value="6"><label for="cycle-6">Ciclo 6</label>
                    <input type="radio" id="cycle-7" name="cycle" value="7"><label for="cycle-7">Ciclo 7</label>
                    <input type="radio" id="cycle-8" name="cycle" value="8"><label for="cycle-8">Ciclo 8</label>
                </div>
                <div class="step-navigation">
                    <button class="onboarding-btn secondary" data-action="back">Atrás</button>
                    <button class="onboarding-btn primary" data-action="next">Siguiente</button>
                </div>
            </div>

            <!-- Step 5: Group -->
            <div class="setup-step" id="setup-step-5">
                <h3>¿Cuál es tu grupo?</h3>
                <p>Elige el grupo al que perteneces.</p>
                <div class="option-selector-group">
                    <input type="radio" id="group-1" name="group" value="1" checked><label for="group-1">Grupo 1</label>
                    <input type="radio" id="group-2" name="group" value="2"><label for="group-2">Grupo 2</label>
                </div>
                <div class="step-navigation">
                    <button class="onboarding-btn secondary" data-action="back">Atrás</button>
                    <button class="onboarding-btn primary" data-action="next">Siguiente</button>
                </div>
            </div>

            <!-- Step 6: Modality -->
            <div class="setup-step" id="setup-step-6">
                <h3>Selecciona tu modalidad</h3>
                <p>Indica si tu horario es matutino o vespertino.</p>
                <div class="option-selector-group">
                    <input type="radio" id="modality-matutino" name="modality" value="matutino" checked><label for="modality-matutino">Matutina</label>
                    <input type="radio" id="modality-vespertino" name="modality" value="vespertino"><label for="modality-vespertino">Vespertina</label>
                </div>
                <div class="step-navigation">
                    <button class="onboarding-btn secondary" data-action="back">Atrás</button>
                    <button class="onboarding-btn primary" data-action="next">Siguiente</button>
                </div>
            </div>
            
            <!-- Step 7: Finish -->
            <div class="setup-step" id="setup-step-7">
                <h3>Procesamiento Inteligente</h3>
                <p>¿Quieres que usemos IA para autocompletar tu horario basándonos en tu selección?</p>
                 <div class="onboarding-image-container" style="background-image: url('/img/horario.gif'); margin: 20px auto;"></div>
                <div class="step-navigation">
                    <button class="onboarding-btn secondary" data-action="skip">Finalizar sin autocompletar</button>
                    <button class="onboarding-btn primary" data-action="finish">Aceptar y Autocompletar</button>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- APP WRAPPER -->
<div id="app-wrapper">
    <nav id="sidebar">
        <div class="sidebar-profile">
            <div class="profile-picture">
                <img class="user-profile-pic" src="https://placehold.co/120x120/ffffff/1e1e28?text=U" alt="User's profile picture">
                <span class="account-badge">1</span>
            </div>
            <h2 class="user-display-name">Usuario</h2>
            <p class="user-email">correo@ejemplo.com</p>
        </div>
        
        <ul class="sidebar-nav">
            <li class="nav-category">General</li>
            <li><a href="#" class="nav-link active" data-target="summary-content"><i data-lucide="layout-grid"></i><span>Resumen</span></a></li>
            <li><a href="#" class="nav-link" data-target="schedule-content"><i data-lucide="calendar-clock"></i><span>Horario</span></a></li>
            
            <li class="nav-category">Académico</li>
            <!-- Contenedor para el menú de Servicios y sus subcategorías -->
            <li id="services-nav-item">
                <a href="#" class="nav-link has-submenu" data-target="services-content">
                    <i data-lucide="briefcase"></i>
                    <span>Servicios</span>
                    <i data-lucide="chevron-down" class="submenu-arrow"></i>
                </a>
                <ul class="submenu">
                    <!-- Las subcategorías de servicios se insertarán aquí por JS -->
                </ul>
            </li>
            <li><a href="#" class="nav-link" data-target="apps-content"><i data-lucide="app-window"></i><span>Apps</span></a></li>
            
            <li class="nav-category">Comunidad</li>
            <li><a href="#" class="nav-link" data-target="contacts-content"><i data-lucide="contact"></i><span>Contactos</span></a></li>
            
            <li class="nav-category">Cuenta</li>
            <li><a href="#" class="nav-link" data-target="settings-content"><i data-lucide="settings"></i><span>Ajustes</span></a></li>
            <li><a href="#" id="logout-btn-sidebar" class="nav-link"><i data-lucide="log-out"></i><span>Cerrar Sesión</span></a></li>
        </ul>
    </nav>

    <div id="sidebar-overlay"></div>

    <main class="main-container">
        <div class="window-header">
            <button id="menu-btn" class="menu-btn"><i data-lucide="menu"></i></button>
            <!-- NEW: Search container replaces the old title -->
            <div class="search-container">
                <i data-lucide="search" class="search-icon"></i>
                <input type="text" id="app-search-input" placeholder="Buscar servicios, apps y más...">
                <div id="search-results" class="search-results-container"></div>
            </div>
            <div id="header-user-icon">
                <img src="https://www.ucuenca.edu.ec/wp-content/uploads/2025/03/LogoBlanco@2x.png" alt="Logo UCuenca">
            </div>
        </div>

        <div class="content-area">
            <!-- =============================================================== -->
            <!-- INICIO DEL CONTENIDO DE RESUMEN -->
            <!-- =============================================================== -->
            <div id="summary-content" class="page-content active">
                <div class="summary-container">
                    <!-- Slider de cabecera (dinámico) -->
                    <div id="summary-header-container" class="widget summary-header-card">
                        <!-- Contenido del slider generado por JS -->
                    </div>

                    <!-- Sección de Servicios Instalados (dinámica) -->
                    <div id="summary-services-section" class="summary-section">
                        <!-- Contenido generado por JS -->
                    </div>

                    <!-- Sección de Accesos Rápidos (dinámica) -->
                    <div id="quick-access-section" class="summary-section">
                        <!-- Contenido generado por JS -->
                    </div>
                </div>
            </div>
            <!-- =============================================================== -->
            <!-- FIN DEL CONTENIDO DE RESUMEN -->
            <!-- =============================================================== -->

            <div id="schedule-content" class="page-content">
                <div class="page-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                    <h1 class="page-title" style="margin-bottom: 0;">Mi Horario</h1>
                    <button id="edit-schedule-btn-from-page" class="onboarding-btn primary" style="width: auto; padding: 10px 20px; display: inline-flex; align-items: center; gap: 8px;">
                        <i data-lucide="edit"></i>
                        <span>Modificar</span>
                    </button>
                </div>
                <div id="schedule-render-area">
                    <!-- El contenido del horario se renderizará aquí vía JS -->
                </div>
            </div>
            
            <div id="apps-content" class="page-content">
                <h1 class="page-title">Ecosistema Vitreum</h1>
                <div id="apps-grid-container" class="apps-grid">
                    <!-- Las tarjetas de Apps se renderizarán aquí -->
                </div>
            </div>

            <div id="services-content" class="page-content">
                <h1 class="page-title">Servicios Universitarios</h1>
                <div id="services-categories-container">
                    <!-- Las categorías y tarjetas de Servicios se renderizarán aquí -->
                </div>
            </div>

            <div id="contacts-content" class="page-content">
                <h1 class="page-title">Contactos Clave</h1>
                <p class="page-description">Directorio de personal importante para tu carrera y ciclo.</p>
                <div id="contacts-list-container" class="contacts-grid">
                    <!-- Los contactos se renderizarán aquí -->
                </div>
            </div>
            
            <div id="settings-content" class="page-content">
                <h1 class="page-title">Ajustes</h1>
                <div class="settings-section">
                    
                    <!-- Tarjeta de Perfil de Usuario Rediseñada -->
                    <div class="widget profile-card">
                        <div class="profile-card-banner">
                            <div class="profile-picture">
                                <img class="user-profile-pic" src="https://placehold.co/120x120/ffffff/1e1e28?text=U" alt="Foto de perfil del usuario">
                                <span class="account-badge">1</span>
                            </div>
                        </div>
                        <div class="profile-card-body">
                            <h2 class="user-display-name">Usuario</h2>
                            <p class="user-email">correo@ejemplo.com</p>
                            <ul class="profile-info-list">
                                <li><span>U. Educativa</span><strong>U. de Cuenca</strong></li>
                                <li><span>Membresía</span><strong class="user-license log-success">Acceso Anticipado</strong></li>
                            </ul>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>Personalizar Fondo</h3>
                        <p style="color: var(--text-color-secondary); margin-bottom: 15px;">Elige una imagen de tu dispositivo para usarla como fondo.</p>
                        <label for="background-file-input" class="file-upload-btn">
                            <i data-lucide="image"></i> Seleccionar Imagen
                        </label>
                        <input type="file" id="background-file-input" accept="image/*">
                    </div>

                    <div class="settings-card">
                        <h3>Mi Horario</h3>
                        <p style="color: var(--text-color-secondary); margin-bottom: 15px;">Abre el asistente para crear o modificar tu horario de clases.</p>
                        <button id="edit-schedule-btn" class="file-upload-btn" style="background-color: #60a5fa;">
                            <i data-lucide="edit"></i> Editar Horario
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </main>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

<!-- Color Thief Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.2/color-thief.umd.js"></script>

<!-- 1. Módulo de Horario -->
    <script src="schedule.js"></script>
    
    <!-- 2. Módulo de Interfaz de Usuario -->
    <script src="ui.js"></script>
    
    <!-- 3. Archivo Principal  -->
    <script src="main.js"></script>

<!-- PWA Service Worker Registration -->
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('service-worker.js')
                .then(registration => console.log('Service Worker registrado con éxito:', registration))
                .catch(error => console.log('Error al registrar el Service Worker:', error));
        });
    }
</script>
</body>
</html>
